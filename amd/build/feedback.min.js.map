{"version":3,"file":"feedback.min.js","sources":["../src/feedback.js"],"sourcesContent":["require.config({paths:{\"datatables.net\":M.cfg.wwwroot+\"/report/myfeedback/vendor/js/jquery.dataTables.min\",\"datatables.net-buttons\":M.cfg.wwwroot+\"/report/myfeedback/vendor/js/dataTables.buttons.min\",\"datatables.net-colreorder\":M.cfg.wwwroot+\"/report/myfeedback/vendor/js/dataTables.colReorder.min\",\"datatables.net-fixedheader\":M.cfg.wwwroot+\"/report/myfeedback/vendor/js/dataTables.fixedHeader.min\",\"datatables.net-responsive\":M.cfg.wwwroot+\"/report/myfeedback/vendor/js/dataTables.responsive.min\"}}),define(\"report_myfeedback/feedback\",[\"jquery\",\"datatables.net\",\"datatables.net-buttons\",\"datatables.net-colreorder\",\"datatables.net-fixedheader\",\"datatables.net-responsive\"],(function($){return{init:function(){$.fn.dataTable.Api.register(\"column().searchable()\",function(){return this.context[0].aoColumns[this[0]].bSearchable}),$(document).ready(function(){const $feedbackcomments=$(\"#feedbackcomments\");var filterCells=$(\"thead tr:eq(1) td\"),feedbacktable=$feedbackcomments.DataTable({dom:\"RlfBrtip\",fixedHeader:!0,pageLength:25,orderCellsTop:!0,columnDefs:[{targets:[5,6,7],searchable:!1,orderable:!1}],order:[[3,\"desc\"]],buttons:[\"colvis\"],stateSave:!0,stateSaveCallback:function(settings,data){localStorage.setItem(\"Feedback\",JSON.stringify(data))},stateLoadCallback:function(){return JSON.parse(localStorage.getItem(\"Feedback\"))},responsive:!0,colReorder:!0});feedbacktable.columns().every(async function(){if(this.searchable()){var that=this,select=$(\'<select><option value=\"\"></option></select>\').appendTo(filterCells.eq(feedbacktable.colReorder.transpose(this.index(),\"toOriginal\"))).on(\"change\",function(){that.search($(this).val()).draw()});this.data().sort().unique().each(function(d){select.append($(\"<option>\"+d+\"</option>\"))});var state=this.state.loaded();if(state){var val=state.columns[this.index()];select.val(val.search.search)}}}),$(\"#ftableDestroy\").on(\"click\",function(){feedbacktable.colReorder.reset(),feedbacktable.destroy(!1),$(\"thead select\").val(\"\").change(),feedbacktable.state.clear(),location.reload()}),$(\"#exportexcel\").on(\"click\",function(){window.location.href=\"export.php\"}),$(\"#reportPrint\").on(\"click\",function(){print()}),$feedbackcomments.on(\"click\",\".addnote\",function(){var gradeid=$(this).data(\"gid\"),instn=$(this).data(\"inst\");$(\"#gradeid\").val(gradeid),$(\"#instance1\").val(instn),$(\"#user_id\").val($(this).data(\"uid\")),$(\"#notename\").val($(\"#note-val\"+gradeid+instn).text())}),$feedbackcomments.on(\"click\",\".addfeedback\",function(){var gradeid2=$(this).data(\"gid\"),instn=$(this).data(\"inst\");$(\"#gradeid2\").val(gradeid2),$(\"#instance\").val(instn),$(\"#user_id2\").val($(this).data(\"uid\")),$(\"#feedname\").val($(\"#feed-val\"+gradeid2+instn).text()),$('#Abs2').modal('show');})})}}));"],"names":["require","config","paths","M","cfg","wwwroot","define","$","init","fn","dataTable","Api","register","this","context","aoColumns","bSearchable","document","ready","$feedbackcomments","filterCells","feedbacktable","DataTable","dom","fixedHeader","pageLength","orderCellsTop","columnDefs","targets","searchable","orderable","order","buttons","stateSave","stateSaveCallback","settings","data","localStorage","setItem","JSON","stringify","stateLoadCallback","parse","getItem","responsive","colReorder","columns","every","async","that","select","appendTo","eq","transpose","index","on","search","val","draw","sort","unique","each","d","append","state","loaded","reset","destroy","change","clear","location","reload","window","href","print","gradeid","instn","text","gradeid2","modal"],"mappings":"AAeAA,QAAQC,OAAO,CAACC,MAAO,CAAC,gBAAiBC,EAAEC,IAAIC,QAAU,mDAAoD,yBAA0BF,EAAEC,IAAIC,QAAU,uDAAwD,4BAA6BF,EAAEC,IAAIC,QAAU,2DAA4D,6BAA8BF,EAAEC,IAAIC,QAAU,2DAA4D,4BAA6BF,EAAEC,IAAIC,QAAU,8DAAgEC,OAAO,4BAA4B,CAAC,SAAU,iBAAkB,yBAA0B,4BAA6B,6BAA8B,8BAA+B,SAASC,GAAG,MAAO,CAACC,KAAM,WAAYC,EAAEC,UAAUC,IAAIC,SAAS,0BAA2B,WAAY,OAAOC,KAAKC,QAAQ,GAAGC,UAAUF,KAAK,IAAIG,cAAeR,EAAES,UAAUC,OAAO,WAAY,MAAMC,kBAAoBX,EAAE,sBAAuB,IAAIY,YAAcZ,EAAE,qBAAsB,EAAEa,cAAgBF,kBAAkBG,UAAU,CAACC,IAAK,WAAYC,aAAa,EAAMC,WAAY,GAAIC,eAAe,EAAMC,WAAY,CAAC,CAACC,QAAS,CAAC,EAAG,EAAG,GAAIC,YAAY,EAAMC,WAAY,IAAKC,MAAO,CAAC,CAAC,EAAG,SAAUC,QAAS,CAAC,UAAWC,WAAW,EAAMC,kBAAmB,SAASC,SAAUC,MAAOC,aAAaC,QAAQ,WAAYC,KAAKC,UAAUJ,QAASK,kBAAmB,WAAY,OAAOF,KAAKG,MAAML,aAAaM,QAAQ,cAAeC,YAAY,EAAMC,YAAY,IAAKxB,cAAcyB,UAAUC,OAAOC,kBAAmBnC,KAAKgB,aAAc,CAAE,IAAIoB,KAAOpC,KAAMqC,OAAS3C,EAAE,+CAAgD4C,SAAS/B,YAAYgC,GAAG/B,cAAcwB,WAAWQ,UAAUxC,KAAKyC,QAAS,gBAAiBC,GAAG,UAAW,WAAYN,KAAKO,OAAOjD,EAAEM,MAAM4C,OAAOC,UAAWtB,OAAOuB,OAAOC,SAASC,MAAK,SAASC,GAAGZ,OAAOa,OAAOxD,EAAE,WAAauD,EAAI,eAAgB,IAAIE,MAAQnD,KAAKmD,MAAMC,SAAUD,MAAO,CAAE,IAAIR,IAAOQ,MAAMnB,QAAQjC,KAAKyC,SAAUJ,OAAOO,IAAIA,IAAID,OAAOA,aAAkBjD,EAAE,kBAAkBgD,GAAG,SAAU,WAAYlC,cAAcwB,WAAWqB,QAAQ7C,cAAc8C,SAAQ,GAAI5D,EAAE,gBAAgBkD,IAAI,IAAIW,SAAS/C,cAAc2C,MAAMK,QAAOC,SAASC,YAAahE,EAAE,gBAAgBgD,GAAG,SAAU,WAAYiB,OAAOF,SAASG,KAAO,gBAAiBlE,EAAE,gBAAgBgD,GAAG,SAAU,WAAYmB,WAAY1D,kBAAkBoC,GAAG,QAAS,WAAY,WAAY,IAAIuB,QAAUpE,EAAEM,MAAMuB,KAAK,OAAQwC,MAAQrE,EAAEM,MAAMuB,KAAK,QAAS7B,EAAE,YAAYkD,IAAIkB,SAAUpE,EAAE,cAAckD,IAAImB,OAAQrE,EAAE,YAAYkD,IAAIlD,EAAEM,MAAMuB,KAAK,QAAS7B,EAAE,aAAakD,IAAIlD,EAAE,YAAcoE,QAAUC,OAAOC,WAAY1D,kBAAkBoC,GAAG,QAAS,cAAe,WAAY,IAAIuB,SAAWvE,EAAEM,MAAMuB,KAAK,OAAQwC,MAAQrE,EAAEM,MAAMuB,KAAK,QAAS7B,EAAE,aAAakD,IAAIqB,UAAWvE,EAAE,aAAakD,IAAImB,OAAQrE,EAAE,aAAakD,IAAIlD,EAAEM,MAAMuB,KAAK,QAAS7B,EAAE,aAAakD,IAAIlD,EAAE,YAAcuE,SAAWF,MAAMC,SAAUtE,EAAE,SAASyE,MAAM"}
